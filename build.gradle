plugins {
    id "org.liquibase.gradle" version "2.0.1"
}

group 'com.lingozone.cards'
version '1.0-SNAPSHOT'

repositories {
    mavenCentral()
}

dependencies {
    liquibaseRuntime "org.liquibase:liquibase-core:${liquibaseVersion}"
    liquibaseRuntime "org.postgresql:postgresql:${postgresqlVersion}"
    liquibaseRuntime group: 'org.postgresql', name: 'postgresql', version: postgresqlVersion
}

liquibase {
    activities {
        main {
            changeLogFile changeLog
            url 'jdbc:postgresql://database:5432/cards'
            username 'cards'
            password 'cards'
        }
    }
}

task local {
    doLast {
        liquibase.activities.main.url 'jdbc:postgresql://localhost:5432/cards'
    }
}